## 21 访问者模式

<u>好好理解</u>

访问者模式(Visitor Pattern)：访问者主要解决数据和算法的耦合，尤其是在数据结构比较稳定，而算法多变的情况下。
        
> 为了不污染数据本身，访问者会将多种算法独立归类，并在访问数据时根据数据类型切换到对应的算法，实现数据的自由响应机制，并且确保算法的自由扩展。

> 访问者模式成功将数据资源(需要实现接待者接口)与数据算法(需要实现访问者接口)分离开来。重载方法的适用让多样的算法自成体系，多态化的访问者接口保证了系统算法的可扩展性，而数据保持相对固定，最终形成一个算法类型类对应一套数据。
      
> 利用双派发确保了访问者对泛型数据元素的识别与算法匹配，使数据集合的迭代与数据元素的自动分拣成为可能。
    
>***双派发：*** 接待者将访问者"派发"到自己的接待方法中，然后再将自己"派发"给访问者，告知自己的身份，然后访问者根据接待者的信息对接待者进行访问。访问模式的核心在于对重载方法与双派发方式的利用，这是实现数据算法自动响应机制的关键所在。
